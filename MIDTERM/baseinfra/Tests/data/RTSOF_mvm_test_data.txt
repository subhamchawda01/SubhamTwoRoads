# Tests for RTSOF order feed, though it is different from any
# other order feed. Delete, exec msgs have all info along with OID


# SYNTAX <shc> <OnOrderAdd>    <buysell> <order_id> <price> <size> <priority> <intermediate>
# SYNTAX <shc> <OnOrderDelete> <buysell> <order_id> <price> <size> <priority> <intermediate>
# SYNTAX <shc> <OnOrderExec>   <buysell> <order_id> <price> <size> <is_full_exec> <intermediate>
# SYNTAX TESTCASE <test_name> <to_reset_book>


#TEST 1

BR_0 TESTCASE TestOrderADD 1
BR_0 1490000000.000000 OnOrderAdd    0 124681012   11000 10 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681013   11001  2 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681014 10998.5  3 0 0
# Level 1 checks
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE B 1 11001
BR_0 1490000000.000000 INT_ASSERT    SIZE  B 1 2
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE B 1 1100100
# Level 2 checks
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE B 2 11000
BR_0 1490000000.000000 INT_ASSERT    SIZE  B 2 10
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE B 2 1100000
# Level 3 checks
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE B 3 10998.5
BR_0 1490000000.000000 INT_ASSERT    SIZE  B 3 3
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE B 3 1099850


#TEST 2

BR_0 TESTCASE TestOrderDelete 1
BR_0 1490000000.000000 OnOrderAdd    0 124681012   11000 10 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681013   11001  2 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681014 10998.5  3 0 0
BR_0 1490000000.000000 OnOrderDelete 0 124681012 11000 10 0 0
# Level 1 check
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE B 1 11001
BR_0 1490000000.000000 INT_ASSERT    SIZE  B 1 2
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE B 1 1100100
# Level 2 checks
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE B 2 10998.5
BR_0 1490000000.000000 INT_ASSERT    SIZE  B 2 3
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE B 2 1099850


#TEST 3
BR_0 TESTCASE AggressOrderFullExec 1
BR_0 1490000000.000000 OnOrderAdd    0 124681012    11000 80 0 1
BR_0 1490000000.000000 OnOrderAdd    0 124681013  11000.5 40 0 1
BR_0 1490000000.000000 OnOrderAdd    0 124681014  10999.9 40 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681015    11003 10 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681016    11003 10 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681017    11003.5 20 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681018    11003.9 40 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681019    11004 5 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681020    11003.5 30 0 1
BR_0 1490000000.000000 OnOrderExec   0 124681020    11003.5 10 0 1
BR_0 1490000000.000000 OnOrderExec   1 124681015    11003 10 1 1
BR_0 1490000000.000000 OnOrderExec   0 124681020    11003.5 10 0 1
BR_0 1490000000.000000 OnOrderExec   1 124681016    11003 10 1 1
BR_0 1490000000.000000 OnOrderExec   0 124681020    11003.5 10 1 1
BR_0 1490000000.000000 OnOrderExec   1 124681017    11003.5 10 0 0

# Level 1 checks buy side
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE B 1 11000.5
BR_0 1490000000.000000 INT_ASSERT    SIZE  B 1 40
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE B 1 1100050

# Level 1 checks sell side
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE S 1 11003.5
BR_0 1490000000.000000 INT_ASSERT    SIZE  S 1 10
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE S 1 1100350

# Level 2 checks sell side
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE S 2 11003.9
BR_0 1490000000.000000 INT_ASSERT    SIZE  S 2 40
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE S 2 1100390

#TEST 4
BR_0 TESTCASE AggressOrdersPartialExec 1
BR_0 1490000000.000000 OnOrderAdd    0 124681012    11000 80 0 1
BR_0 1490000000.000000 OnOrderAdd    0 124681013  11000.5 40 0 1
BR_0 1490000000.000000 OnOrderAdd    0 124681014  10999.9 40 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681015    11003 10 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681016    11003 10 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681017    11003.5 20 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681018    11003.9 40 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681019    11004 5 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681020    11003.5 50 0 1
BR_0 1490000000.000000 OnOrderExec   0 124681020    11003.5 10 0 1
BR_0 1490000000.000000 OnOrderExec   1 124681015    11003 10 1 1
BR_0 1490000000.000000 OnOrderExec   0 124681020    11003.5 10 0 1
BR_0 1490000000.000000 OnOrderExec   1 124681016    11003 10 1 1
BR_0 1490000000.000000 OnOrderExec   0 124681020    11003.5 20 0 1
BR_0 1490000000.000000 OnOrderExec   1 124681017    11003.5 20 1 0

# Level 1 checks buy side
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE B 1 11003.5
BR_0 1490000000.000000 INT_ASSERT    SIZE  B 1 10
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE B 1 1100350

# Level 1 checks sell side
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE S 1 11003.9
BR_0 1490000000.000000 INT_ASSERT    SIZE  S 1 40
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE S 1 1100390


#TEST 5
BR_0 TESTCASE TestHigherExecSizes 1
BR_0 1490000000.000000 OnOrderAdd    0 124681012  11000 80 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681013  11000.5 40 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681014  10999.9 40 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681015  11003 40 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681016  11000.5 60 0 0
BR_0 1490000000.000000 OnOrderExec   1 124681016  11000.5 60 1 0
BR_0 1490000000.000000 OnOrderExec   0 124681013  11000.5 60 1 0
# Level 1 checks
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE B 1 11000
BR_0 1490000000.000000 INT_ASSERT    SIZE  B 1 80
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE B 1 1100000
# Level 2 checks
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE B 2 10999.9
BR_0 1490000000.000000 INT_ASSERT    SIZE  B 2 40
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE B 2 1099990


#TEST 6
BR_0 TESTCASE ProcessEndOfAggressAddEventsNoExecutionSellAgress 1
#buy side book
BR_0 1490000000.000000 OnOrderAdd    0 124681016  10999.7 20 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681012  11000.1 40 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681013  11000 80 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681014  10999.9 40 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681015  10999.8 30 0 0

#sell side book
BR_0 1490000000.000000 OnOrderAdd    1 124681017    11003 40 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681018    11003.1 40 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681019  11000.2 100 0 0

# Level 1 checks buy side
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE B 1 11000.1
BR_0 1490000000.000000 INT_ASSERT    SIZE  B 1 40
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE B 1 1100010

# Level 1 checks sell side
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE S 1 11000.2
BR_0 1490000000.000000 INT_ASSERT    SIZE  S 1 100
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE S 1 1100020


#agg add from sell side
BR_0 1490000000.000000 OnOrderAdd    1 124681020    11000 50 0 0
#no execs: implies above order was not passive, adjust book here
BR_0 1490000000.000000 OnOrderAdd    0 124681021  10999.8 10 0 0

# Buy Level 1 checks
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE B 1 10999.9
BR_0 1490000000.000000 INT_ASSERT    SIZE  B 1 40
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE B 1 1099990

# Buy Level 2 checks
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE B 2 10999.8
BR_0 1490000000.000000 INT_ASSERT    SIZE  B 2 40
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE B 2 1099980

# Level 1 checks sell side
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE S 1 11000
BR_0 1490000000.000000 INT_ASSERT    SIZE  S 1 50
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE S 1 1100000


#actual agg order
BR_0 1490000000.000000 OnOrderAdd    1 124681022    10999.8 50 0 0
BR_0 1490000000.000000 OnOrderExec   1 124681022  10999.8 40 0 0
BR_0 1490000000.000000 OnOrderExec   1 124681014  10999.8 40 0 0
BR_0 1490000000.000000 OnOrderExec   1 124681022  10999.8 10 0 0
BR_0 1490000000.000000 OnOrderExec   1 124681015  10999.8 10 0 0


# Buy Level 1 checks
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE B 1 10999.8
BR_0 1490000000.000000 INT_ASSERT    SIZE  B 1 30
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE B 1 1099980

# Buy Level 2 checks
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE B 2 10999.7
BR_0 1490000000.000000 INT_ASSERT    SIZE  B 2 20
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE B 2 1099970

# Level 1 checks sell side
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE S 1 11000
BR_0 1490000000.000000 INT_ASSERT    SIZE  S 1 50
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE S 1 1100000

#TEST 7
BR_0 TESTCASE ProcessEndOfAggressAddEventsNoExecutionBuyAgress 1
#buy side book
BR_0 1490000000.000000 OnOrderAdd    0 124681016  10999.7 20 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681012  11000.1 40 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681013  11000 80 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681014  10999.9 40 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681015  10999.8 30 0 0

#sell side book
BR_0 1490000000.000000 OnOrderAdd    1 124681017    11003 40 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681020    11003.2 60 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681018    11003.1 50 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681019    11000.2 100 0 0

# Level 1 checks buy side
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE B 1 11000.1
BR_0 1490000000.000000 INT_ASSERT    SIZE  B 1 40
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE B 1 1100010

# Level 1 checks sell side
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE S 1 11000.2
BR_0 1490000000.000000 INT_ASSERT    SIZE  S 1 100
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE S 1 1100020

#agg add from buy side
BR_0 1490000000.000000 OnOrderAdd    0 124681021    11003 160 0 0
#no execs: implies above order was not passive, adjust book here.
#delete from sell side: levels 11000.2 and 11003. Add back 160@11003 to the BUY side
BR_0 1490000000.000000 OnOrderAdd    1 124681022  11003.4 10 0 0

# Buy Level 1 checks
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE B 1 11003
BR_0 1490000000.000000 INT_ASSERT    SIZE  B 1 160
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE B 1 1100300

# Level 1 checks sell side
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE S 1 11003.1
BR_0 1490000000.000000 INT_ASSERT    SIZE  S 1 50
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE S 1 1100310

#TEST 8
BR_0 TESTCASE ProcessEndOfAggressAddEventsPartialExecutionSellAgress 1

#buy side book
BR_0 1490000000.000000 OnOrderAdd    0 124681016  10999.7 20 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681012  11000.1 40 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681013  11000 80 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681014  10999.9 40 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681015  10999.8 30 0 0

#sell side book
BR_0 1490000000.000000 OnOrderAdd    1 124681017    11003 40 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681018    11003.1 40 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681019  11000.2 100 0 0

# Level 1 checks buy side
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE B 1 11000.1
BR_0 1490000000.000000 INT_ASSERT    SIZE  B 1 40
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE B 1 1100010

# Level 1 checks sell side
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE S 1 11000.2
BR_0 1490000000.000000 INT_ASSERT    SIZE  S 1 100
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE S 1 1100020

#agg add from sell side
BR_0 1490000000.000000 OnOrderAdd    1 124681020   11000 130 0 0
BR_0 1490000000.000000 OnOrderExec   1 124681020   11000 40 0 0
BR_0 1490000000.000000 OnOrderExec   0 124681012   11000.1 40 0 0
BR_0 1490000000.000000 OnOrderExec   1 124681020   11000 50 0 0
#this matches some random oid, we never had(pkt drop may be)
BR_0 1490000000.000000 OnOrderExec   0 114681013   11000.1 50 0 0
BR_0 1490000000.000000 OnOrderExec   1 124681020   11000 10 0 0
BR_0 1490000000.000000 OnOrderExec   0 124681013   11000 10 0 0

#adjust book here: aggress oid 124681020, size 30 should be added to sell side
BR_0 1490000000.000000 OnOrderAdd    1 124681021   11003.3 30 0 0

# Buy Level 1 checks
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE B 1 10999.9
BR_0 1490000000.000000 INT_ASSERT    SIZE  B 1 40
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE B 1 1099990

# Level 1 checks sell side
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE S 1 11000
BR_0 1490000000.000000 INT_ASSERT    SIZE  S 1 30
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE S 1 1100000

#TEST 9
BR_0 TESTCASE ProcessEndOfAggressAddEventsPartialExecutionBuyAgress 1
#buy side book
BR_0 1490000000.000000 OnOrderAdd    0 124681016  10999.7 20 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681012  11000.1 40 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681013  11000 80 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681014  10999.9 40 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681015  10999.8 30 0 0

#sell side book
BR_0 1490000000.000000 OnOrderAdd    1 124681017    11003 40 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681020    11003.2 60 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681018    11003.1 50 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681019    11000.2 100 0 0

# Level 1 checks buy side
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE B 1 11000.1
BR_0 1490000000.000000 INT_ASSERT    SIZE  B 1 40
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE B 1 1100010

# Level 1 checks sell side
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE S 1 11000.2
BR_0 1490000000.000000 INT_ASSERT    SIZE  S 1 100
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE S 1 1100020

#agg add from buy side
BR_0 1490000000.000000 OnOrderAdd    0 124681021    11003 160 0 0
BR_0 1490000000.000000 OnOrderExec   0 124681021   11003 100 0 0
BR_0 1490000000.000000 OnOrderExec   1 124681019   11000.2 100 0 0
BR_0 1490000000.000000 OnOrderExec   0 124681021   11003 20 0 0
BR_0 1490000000.000000 OnOrderExec   1 114681027   11001 20 0 0
BR_0 1490000000.000000 OnOrderExec   0 124681021   11003 25 0 0
BR_0 1490000000.000000 OnOrderExec   1 124681027   11003 25 0 0

#adjust book here. order id 124681021, size 15 should be added to buy side
BR_0 1490000000.000000 OnOrderAdd    1 124681022  11003.4 10 0 0

# Buy Level 1 checks
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE B 1 11003
BR_0 1490000000.000000 INT_ASSERT    SIZE  B 1 15
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE B 1 1100300

# Level 1 checks sell side
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE S 1 11003.1
BR_0 1490000000.000000 INT_ASSERT    SIZE  S 1 50
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE S 1 1100310


#TEST 10
BR_0 TESTCASE ProcessEndOfAggressAddEventsFullExecutionCrossedTradeDeletionBuyAgress 1
#buy side book
BR_0 1490000000.000000 OnOrderAdd    0 124681016  10999.7 20 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681012  11000.1 40 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681013  11000 80 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681014  10999.9 40 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681015  10999.8 30 0 0

#sell side book
BR_0 1490000000.000000 OnOrderAdd    1 124681017    11003 40 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681020    11003.2 60 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681018    11003.1 50 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681019    11000.2 100 0 0

# Level 1 checks buy side
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE B 1 11000.1
BR_0 1490000000.000000 INT_ASSERT    SIZE  B 1 40
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE B 1 1100010

# Level 1 checks sell side
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE S 1 11000.2
BR_0 1490000000.000000 INT_ASSERT    SIZE  S 1 100
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE S 1 1100020

#agg add from buy side
BR_0 1490000000.000000 OnOrderAdd    0 124681021    11003 160 0 0
BR_0 1490000000.000000 OnOrderExec   0 124681021   11003 100 0 0
BR_0 1490000000.000000 OnOrderExec   1 124681019   11000.2 100 0 0
BR_0 1490000000.000000 OnOrderExec   0 124681021   11003 20 0 0
BR_0 1490000000.000000 OnOrderExec   1 114681027   11001 20 0 0
BR_0 1490000000.000000 OnOrderExec   0 124681021   11003 10 0 0
BR_0 1490000000.000000 OnOrderExec   1 124681027   11003 10 0 0
BR_0 1490000000.000000 OnOrderDelete 0 124681021   11003 30 0 0

#adjust book here. For order id 124681027, size 30 should be added back to sell side
BR_0 1490000000.000000 OnOrderAdd    1 124681022  11003.4 10 0 0

# Buy Level 1 checks
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE B 1 11000.1
BR_0 1490000000.000000 INT_ASSERT    SIZE  B 1 40
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE B 1 1100010

# Level 1 checks sell side
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE S 1 11003
BR_0 1490000000.000000 INT_ASSERT    SIZE  S 1 30
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE S 1 1100300

#TEST 11
BR_0 TESTCASE ProcessEndOfAggressAddEventsFullExecutionCrossedTradeDeletionCase2BuyAgress 1
#buy side book
BR_0 1490000000.000000 OnOrderAdd    0 124681016  10999.7 20 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681012  11000.1 40 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681013  11000 80 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681014  10999.9 40 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681015  10999.8 30 0 0

#sell side book
BR_0 1490000000.000000 OnOrderAdd    1 124681017    11003 40 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681020    11003.2 60 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681018    11003.1 50 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681019    11000.2 100 0 0

# Level 1 checks buy side
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE B 1 11000.1
BR_0 1490000000.000000 INT_ASSERT    SIZE  B 1 40
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE B 1 1100010

# Level 1 checks sell side
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE S 1 11000.2
BR_0 1490000000.000000 INT_ASSERT    SIZE  S 1 100
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE S 1 1100020

#agg add from buy side
BR_0 1490000000.000000 OnOrderAdd    0 124681021    11003 160 0 0
BR_0 1490000000.000000 OnOrderExec   0 124681021   11003 100 0 0
BR_0 1490000000.000000 OnOrderExec   1 124681019   11000.2 100 0 0
BR_0 1490000000.000000 OnOrderExec   0 124681021   11003 20 0 0
BR_0 1490000000.000000 OnOrderExec   1 114681027   11001 20 0 0
BR_0 1490000000.000000 OnOrderExec   0 124681021   11003 30 0 0
BR_0 1490000000.000000 OnOrderExec   1 124681027   11003 30 0 0
BR_0 1490000000.000000 OnOrderDelete 0 124681021   11003 10 0 0

#adjust book here. For order id 124681027, size 10 should be added back to sell side
BR_0 1490000000.000000 OnOrderAdd    1 124681022  11003.4 10 0 0

# Buy Level 1 checks
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE B 1 11000.1
BR_0 1490000000.000000 INT_ASSERT    SIZE  B 1 40
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE B 1 1100010

# Level 1 checks sell side
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE S 1 11003
BR_0 1490000000.000000 INT_ASSERT    SIZE  S 1 10
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE S 1 1100300


#TEST 12
BR_0 TESTCASE ProcessEndOfAggressAddEventsFullExecutionSellAgress 1

#buy side book
BR_0 1490000000.000000 OnOrderAdd    0 124681016  10999.7 20 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681012  11000.1 40 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681013  11000 30 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681014  10999.9 40 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681015  10999.8 30 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681025  11000 10 0 0


#sell side book
BR_0 1490000000.000000 OnOrderAdd    1 124681017    11003 40 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681018    11003.1 40 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681019  11000.2 100 0 0

# Level 1 checks buy side
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE B 1 11000.1
BR_0 1490000000.000000 INT_ASSERT    SIZE  B 1 40
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE B 1 1100010

# Level 1 checks sell side
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE S 1 11000.2
BR_0 1490000000.000000 INT_ASSERT    SIZE  S 1 100
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE S 1 1100020

#agg add from sell side
BR_0 1490000000.000000 OnOrderAdd    1 124681020   10999.9 130 0 0
BR_0 1490000000.000000 OnOrderExec   1 124681020   10999.9 40 0 0
BR_0 1490000000.000000 OnOrderExec   0 124681012   11000.1 40 0 0
BR_0 1490000000.000000 OnOrderExec   1 124681020   10999.9 60 0 0
#this matches some random oid, we never had(pkt drop may be)
BR_0 1490000000.000000 OnOrderExec   0 114681013   11000.1 60 0 0
BR_0 1490000000.000000 OnOrderExec   1 124681020   10999.9 30 0 0
BR_0 1490000000.000000 OnOrderExec   0 124681013   11000 30 0 0

#adjust book here: aggress oid 124681020, size 10 should be removed from sell side
BR_0 1490000000.000000 OnOrderAdd    1 124681021   11003.3 30 0 0

# Buy Level 1 checks
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE B 1 11000
BR_0 1490000000.000000 INT_ASSERT    SIZE  B 1 10
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE B 1 1100000

# Level 1 checks sell side
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE S 1 11000.2
BR_0 1490000000.000000 INT_ASSERT    SIZE  S 1 100
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE S 1 1100020

#TEST 13
BR_0 TESTCASE ProcessEndOfAggressAddEventsFullExecutionCrossedTradeDeletionSellAgress 1

#buy side book
BR_0 1490000000.000000 OnOrderAdd    0 124681016  10999.7 20 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681012  11000.1 40 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681013  11000 30 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681014  10999.9 20 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681015  10999.8 30 0 0
BR_0 1490000000.000000 OnOrderAdd    0 124681025  11000 10 0 0


#sell side book
BR_0 1490000000.000000 OnOrderAdd    1 124681017    11003 40 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681018    11003.1 40 0 0
BR_0 1490000000.000000 OnOrderAdd    1 124681019  11000.2 100 0 0

# Level 1 checks buy side
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE B 1 11000.1
BR_0 1490000000.000000 INT_ASSERT    SIZE  B 1 40
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE B 1 1100010

# Level 1 checks sell side
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE S 1 11000.2
BR_0 1490000000.000000 INT_ASSERT    SIZE  S 1 100
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE S 1 1100020

#agg add from sell side
BR_0 1490000000.000000 OnOrderAdd    1 124681020   10999.9 130 0 0
BR_0 1490000000.000000 OnOrderExec   1 124681020   10999.9 40 0 0
BR_0 1490000000.000000 OnOrderExec   0 124681012   11000.1 40 0 0
BR_0 1490000000.000000 OnOrderExec   1 124681020   10999.9 60 0 0
#this matches some random oid, we never had(pkt drop may be)
BR_0 1490000000.000000 OnOrderExec   0 114681013   11000.1 60 0 0
BR_0 1490000000.000000 OnOrderExec   1 124681020   10999.9 10 0 0
BR_0 1490000000.000000 OnOrderExec   0 124681013   11000 10 0 0
BR_0 1490000000.000000 OnOrderDelete 0 124681020   10999.9 20 0 0

#adjust book here: aggress oid 124681020, size 10 should be removed from sell side.
BR_0 1490000000.000000 OnOrderAdd    1 124681021   11003.3 30 0 0

# Buy Level 1 checks
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE B 1 11000
BR_0 1490000000.000000 INT_ASSERT    SIZE  B 1 30
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE B 1 1100000

# Level 1 checks sell side
BR_0 1490000000.000000 DOUBLE_ASSERT PRICE S 1 11000.2
BR_0 1490000000.000000 INT_ASSERT    SIZE  S 1 100
BR_0 1490000000.000000 INT_ASSERT    INT_PRICE S 1 1100020
