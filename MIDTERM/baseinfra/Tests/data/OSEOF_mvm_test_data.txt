# Tests for NSE order feed, though it can be 
# used in any of the orderfeed as long as syntax is same


# SYNTAX <shc> <OnOrderAdd>    <buysell> <order_id> <price> <size> <priority> <intermediate>
# SYNTAX <shc> <OnOrderDelete> <buysell> <order_id> <intermediate>
# SYNTAX <shc> <OnOrderModify> <buysell> <order_id> <new_price> <new_size> <new_order_id> <intermediate>
# SYNTAX <shc> <OnOrderExec>   <buysell> <order_id> <price> <size_exec> <intermediate>
# SYNTAX TESTCASE <test_name> <to_reset_book>


#TEST 1
NK_0 TESTCASE TestOrderADD 1
NK_0 1507235041.000000 OnOrderAdd    B 124681012   20610 10 0 0
NK_0 1507235041.000000 OnOrderAdd    B 124681013   20620  2 0 0
NK_0 1507235041.000000 OnOrderAdd    B 124681014 20600  3 0 0
# Level 1 checks
NK_0 1507235041.000000 DOUBLE_ASSERT PRICE B 1 20620
NK_0 1507235041.000000 INT_ASSERT    SIZE  B 1 2
NK_0 1507235041.000000 INT_ASSERT    INT_PRICE B 1 2062
# Level 2 checks
NK_0 1507235041.000000 DOUBLE_ASSERT PRICE B 2 20610
NK_0 1507235041.000000 INT_ASSERT    SIZE  B 2 10
NK_0 1507235041.000000 INT_ASSERT    INT_PRICE B 2 2061
# Level 3 checks
NK_0 1507235041.000000 DOUBLE_ASSERT PRICE B 3 20600
NK_0 1507235041.000000 INT_ASSERT    SIZE  B 3 3
NK_0 1507235041.000000 INT_ASSERT    INT_PRICE B 3 2060





#TEST 2
# For OSE Modify is a custom function just used for trade delta.
# Modify is not received from exchange
# hence cannot change price
NK_0 TESTCASE TestOrderModify 1
NK_0 1507235041.000000 OnOrderAdd    B 124681012   20610 10 0 0
NK_0 1507235041.000000 OnOrderAdd    B 124681013   20620  2 0 0
NK_0 1507235041.000000 OnOrderAdd    B 124681014   20590  3 0 0
NK_0 1507235041.000000 OnOrderAdd    B 124681015   20580  5 0 0
NK_0 1507235041.000000 OnOrderModify B 124681012   20610 8 124681012 0
NK_0 1507235041.000000 OnOrderModify B 124681014   20590 6 124681014 0
# Level 1 checks
NK_0 1507235041.000000 DOUBLE_ASSERT PRICE B 1 20620
NK_0 1507235041.000000 INT_ASSERT    SIZE  B 1 2
NK_0 1507235041.000000 INT_ASSERT    INT_PRICE B 1 2062
# Level 2 checks
NK_0 1507235041.000000 DOUBLE_ASSERT PRICE B 2 20610
NK_0 1507235041.000000 INT_ASSERT    SIZE  B 2 8
NK_0 1507235041.000000 INT_ASSERT    INT_PRICE B 2 2061
# Level 3 checks
NK_0 1507235041.000000 DOUBLE_ASSERT PRICE B 3 20590
NK_0 1507235041.000000 INT_ASSERT    SIZE  B 3 6
NK_0 1507235041.000000 INT_ASSERT    INT_PRICE B 3 2059




#TEST 3

NK_0 TESTCASE TestOrderDelete 1
NK_0 1507235041.000000 OnOrderAdd    B 124681012   20610 10 0 0
NK_0 1507235041.000000 OnOrderAdd    B 124681013   20620  2 0 0
NK_0 1507235041.000000 OnOrderAdd    B 124681014   20600  3 0 0
NK_0 1507235041.000000 OnOrderDelete B 124681012 0
# Level 1 checks
NK_0 1507235041.000000 DOUBLE_ASSERT PRICE B 1 20620
NK_0 1507235041.000000 INT_ASSERT    SIZE  B 1 2
NK_0 1507235041.000000 INT_ASSERT    INT_PRICE B 1 2062
# Level 2 checks
NK_0 1507235041.000000 DOUBLE_ASSERT PRICE B 2 20600
NK_0 1507235041.000000 INT_ASSERT    SIZE  B 2 3
NK_0 1507235041.000000 INT_ASSERT    INT_PRICE B 2 2060




#TEST 4
NK_0 TESTCASE TestOrderExec 1
NK_0 1507235041.000000 OnOrderAdd    B 124681012  20600 80 0 0
NK_0 1507235041.000000 OnOrderAdd    B 124681013  20610 40 0 0
NK_0 1507235041.000000 OnOrderAdd    B 124681014  20590 40 0 0
NK_0 1507235041.000000 OnOrderAdd    S 124681015  20620 40 0 0
NK_0 1507235041.000000 OnOrderExec   B 124681013  20610 20 0
# Level 1 checks
NK_0 1507235041.000000 DOUBLE_ASSERT PRICE B 1 20610
NK_0 1507235041.000000 INT_ASSERT    SIZE  B 1 20
NK_0 1507235041.000000 INT_ASSERT    INT_PRICE B 1 2061

NK_0 1507235041.000000 OnOrderExec   B 124681013 20610 20 0
# Level 1 checks
NK_0 1507235041.000000 DOUBLE_ASSERT PRICE B 1 20600
NK_0 1507235041.000000 INT_ASSERT    SIZE  B 1 80
NK_0 1507235041.000000 INT_ASSERT    INT_PRICE B 1 2060

NK_0 1507235041.000000 DOUBLE_ASSERT PRICE S 1 20620
NK_0 1507235041.000000 INT_ASSERT    SIZE  S 1 40
NK_0 1507235041.000000 INT_ASSERT    INT_PRICE S 1 2062
# Level 2 checks
NK_0 1507235041.000000 DOUBLE_ASSERT PRICE B 2 20590
NK_0 1507235041.000000 INT_ASSERT    SIZE  B 2 40
NK_0 1507235041.000000 INT_ASSERT    INT_PRICE B 2 2059



#TEST 5

NK_0 TESTCASE TestOrderAddMiss 1
NK_0 1507235041.000000 OnOrderAdd    B 124681012  20610 80 0 0
NK_0 1507235041.000000 OnOrderAdd    B 124681013  20620 40 0 0
NK_0 1507235041.000000 OnOrderAdd    B 124681014  20600 40 0 0
NK_0 1507235041.000000 OnOrderAdd    S 124681015  20630 40 0 0
NK_0 1507235041.000000 OnOrderModify B 124681016  20620 20 124681016 0
# Level 1 checks
NK_0 1507235041.000000 DOUBLE_ASSERT PRICE B 1 20620
NK_0 1507235041.000000 INT_ASSERT    SIZE  B 1 40
NK_0 1507235041.000000 INT_ASSERT    INT_PRICE B 1 2062

NK_0 1507235041.000000 OnOrderExec   B 124681017 20620 20 0
# Level 1 checks
NK_0 1507235041.000000 DOUBLE_ASSERT PRICE B 1 20620
NK_0 1507235041.000000 INT_ASSERT    SIZE  B 1 40
NK_0 1507235041.000000 INT_ASSERT    INT_PRICE B 1 2062


#TEST 6
NK_0 TESTCASE TestHigherExecSizes 1
NK_0 1507235041.000000 OnOrderAdd    B 124681012  20610 80 0 0
NK_0 1507235041.000000 OnOrderAdd    B 124681013  20620 40 0 0
NK_0 1507235041.000000 OnOrderAdd    B 124681014  20600 40 0 0
NK_0 1507235041.000000 OnOrderAdd    S 124681015  20630 40 0 0
NK_0 1507235041.000000 OnOrderExec   B 124681013  20620 60 0
# Level 1 checks
NK_0 1507235041.000000 DOUBLE_ASSERT PRICE B 1 20610
NK_0 1507235041.000000 INT_ASSERT    SIZE  B 1 80
NK_0 1507235041.000000 INT_ASSERT    INT_PRICE B 1 2061
# Level 2 checks
NK_0 1507235041.000000 DOUBLE_ASSERT PRICE B 2 20600
NK_0 1507235041.000000 INT_ASSERT    SIZE  B 2 40
NK_0 1507235041.000000 INT_ASSERT    INT_PRICE B 2 2060


#TEST 7
NK_0 TESTCASE TestToSanitizeOnExec 1
NK_0 1507235041.000000 OnTradingStatus     ZARABA
NK_0 1507235041.000000 OnOrderAdd    B 124681012  20620 40 0 0
NK_0 1507235041.000000 OnOrderAdd    B 124681013  20610 80 0 0
NK_0 1507235041.000000 OnOrderAdd    B 124681014  20600 40 0 0
NK_0 1507235041.000000 OnOrderAdd    S 124681015  20630 40 0 0
NK_0 1507235041.000000 OnOrderAdd    B 124681016  20620 40 0 0
NK_0 1507235041.000000 OnOrderAdd    B 124681017  20610 40 0 0
NK_0 1507235041.000000 OnOrderAdd    B 124681018  20590 40 0 0

NK_0 1507235041.000000 OnOrderExec   B 124681014  20600 20 0
# Level 1 checks
NK_0 1507235041.000000 DOUBLE_ASSERT PRICE B 1 20600
NK_0 1507235041.000000 INT_ASSERT    SIZE  B 1 20
NK_0 1507235041.000000 INT_ASSERT    INT_PRICE B 1 2060
# Level 2 checks
NK_0 1507235041.000000 DOUBLE_ASSERT PRICE B 2 20590
NK_0 1507235041.000000 INT_ASSERT    SIZE  B 2 40
NK_0 1507235041.000000 INT_ASSERT    INT_PRICE B 2 2059

NK_0 1507235041.000000 OnOrderAdd    S 124681019    20630 40 0 0
NK_0 1507235041.000000 OnOrderAdd    S 124681020  20640 20 0 0
NK_0 1507235041.000000 OnOrderAdd    S 124681021  20640 40 0 0
NK_0 1507235041.000000 OnOrderAdd    S 124681022  20650 40 0 0
NK_0 1507235041.000000 OnOrderAdd    S 124681023  20650 20 0 0
NK_0 1507235041.000000 OnOrderAdd    S 124681024  20660 40 0 0
NK_0 1507235041.000000 OnOrderExec   S 124681022  20650 20 0

# Level 1 checks
NK_0 1507235041.000000 DOUBLE_ASSERT PRICE S 1 20650
NK_0 1507235041.000000 INT_ASSERT    SIZE  S 1 40
NK_0 1507235041.000000 INT_ASSERT    INT_PRICE S 1 2065
# Level 2 checks
NK_0 1507235041.000000 DOUBLE_ASSERT PRICE S 2 20660
NK_0 1507235041.000000 INT_ASSERT    SIZE  S 2 40
NK_0 1507235041.000000 INT_ASSERT    INT_PRICE S 2 2066


#TEST 8
NK_0 TESTCASE TestToSanitizeOnOrderAdd 1
NK_0 1507235041.000000 OnTradingStatus     ZARABA
NK_0 1507235041.000000 OnOrderAdd    B 124681012  20620 40 0 0
NK_0 1507235041.000000 OnOrderAdd    B 124681013  20620 40 0 0
NK_0 1507235041.000000 OnOrderAdd    B 124681014  20610 80 0 0
NK_0 1507235041.000000 OnOrderAdd    B 124681015  20610 40 0 0
NK_0 1507235041.000000 OnOrderAdd    B 124681016  20600 40 0 0
NK_0 1507235041.000000 OnOrderAdd    B 124681017  20590 40 0 0

NK_0 1507235041.000000 OnOrderAdd    S 124681018  20630 40 0 0
NK_0 1507235041.000000 OnOrderAdd    S 124681019  20630 40 0 0
NK_0 1507235041.000000 OnOrderAdd    S 124681020  20640 20 0 0
NK_0 1507235041.000000 OnOrderAdd    S 124681021  20640 40 0 0
NK_0 1507235041.000000 OnOrderAdd    S 124681022  20650 40 0 0
NK_0 1507235041.000000 OnOrderAdd    S 124681023  20650 20 0 0

# Checking BID side sanitize
NK_0 1507235041.000000 OnOrderAdd    S 124681025  20610 20 0 0

# Level 1 checks
NK_0 1507235041.000000 DOUBLE_ASSERT PRICE B 1 20600
NK_0 1507235041.000000 INT_ASSERT    SIZE  B 1 40
NK_0 1507235041.000000 INT_ASSERT    INT_PRICE B 1 2060

# Level 2 checks
NK_0 1507235041.000000 DOUBLE_ASSERT PRICE B 2 20590
NK_0 1507235041.000000 INT_ASSERT    SIZE  B 2 40
NK_0 1507235041.000000 INT_ASSERT    INT_PRICE B 2 2059

# Checking ASK side sanitize
NK_0 1507235041.000000 OnOrderAdd    B 124681024  20630 40 0 0

NK_0 1507235041.000000 DOUBLE_ASSERT PRICE S 1 20640
NK_0 1507235041.000000 INT_ASSERT    SIZE  S 1 60
NK_0 1507235041.000000 INT_ASSERT    INT_PRICE S 1 2064

NK_0 1507235041.000000 DOUBLE_ASSERT PRICE S 2 20650
NK_0 1507235041.000000 INT_ASSERT    SIZE  S 2 60
NK_0 1507235041.000000 INT_ASSERT    INT_PRICE S 2 2065
