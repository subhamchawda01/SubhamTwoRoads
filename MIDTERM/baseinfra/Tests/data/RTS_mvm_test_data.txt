# Instruction lines for test data
# though it would be valid for any exchange which has same/subset of 
# message type

# SYNTAX <shc> <OnPriceLevelNew> <buysell> <level> <price> <size> <ordercount> <intermediate>
# SYNTAX <shc> <OnPriceLevelChange> <buysell> <level> <price> <size> <ordercount> <intermediate>
# SYNTAX <shc> <OnTrade> <buysell> <price> <size>
# SYNTAX <shc> <OnOffMarketTrade> <buysell> <price> <size>
# SYNTAX <shc> <OnPriceLevelDelete> <buysell> <price> <size>
# SYNTAX TESTCASE <test_name> <to_reset_book>

Si_0 TESTCASE TestPriceLevelNew 1

Si_0 1490000000.000000 OnPriceLevelNew    B 1 20000 10 2 0
Si_0 1490000000.000000 OnPriceLevelNew    B 1 20001 8 2 0
Si_0 1490000000.000000 OnPriceLevelNew    B 3 19994 6 2 0
Si_0 1490000000.000000 DOUBLE_ASSERT PRICE            B 1 20001
Si_0 1490000000.000000 INT_ASSERT    INT_PRICE        B 1 20001
Si_0 1490000000.000000 INT_ASSERT    SIZE             B 1 8
Si_0 1490000000.000000 INT_ASSERT    ORDER_COUNT      B 1 2
Si_0 1490000000.000000 DOUBLE_ASSERT PRICE            B 2 20000
Si_0 1490000000.000000 INT_ASSERT    SIZE             B 2 10
Si_0 1490000000.000000 DOUBLE_ASSERT PRICE            B 3 19994
Si_0 1490000000.000000 INT_ASSERT    SIZE             B 3 6

Si_0 TESTCASE TestPriceLevelChange 1
Si_0 1490000000.000000 OnPriceLevelNew    B 1 20000 10 2 0
Si_0 1490000000.000000 OnPriceLevelNew    B 1 20001 8 2 0
Si_0 1490000000.000000 OnPriceLevelNew    B 3 19994 6 2 0
Si_0 1490000000.000000 OnPriceLevelChange    B 2 20000  14 3 0
Si_0 1490000000.000000 DOUBLE_ASSERT PRICE            B 1 20001
Si_0 1490000000.000000 DOUBLE_ASSERT PRICE            B 2 20000
Si_0 1490000000.000000 INT_ASSERT    SIZE             B 2 14
Si_0 1490000000.000000 INT_ASSERT    SIZE             B 1 8
Si_0 1490000000.000000 INT_ASSERT    SIZE             B 3 6



Si_0 TESTCASE TestPriceLevelDelete 1 
Si_0 1490000000.000000 OnPriceLevelNew    B 1 20000 10 2 0
# this Sell side update is redundant, in order to buy side to assigned
Si_0 1490000000.000000 OnPriceLevelNew    S 1 20002  3 1 0 
Si_0 1490000000.000000 OnPriceLevelNew    B 1 20001 23 3 0
Si_0 1490000000.000000 OnPriceLevelNew    S 1 20002  4 1 0 
Si_0 1490000000.000000 OnPriceLevelNew    S 2 20003  3 1 0
Si_0 1490000009.000000 DOUBLE_ASSERT PRICE            S 1 20002
Si_0 1490000000.000000 DOUBLE_ASSERT PRICE            B 1 20001
Si_0 1490000000.000000 OnPriceLevelDelete B 1 20001 0
Si_0 1490000000.000000 DOUBLE_ASSERT PRICE            B 1 20000
Si_0 1490000000.000000 OnPriceLevelDelete B 1 20000 0
Si_0 1490000000.000000 ASSERT EMPTY_BOOK B 1
# this buy side update is redundant, in order to for OnTrade to work
Si_0 1490000000.000000 OnPriceLevelNew    B 1 20000 10 2 0
Si_0 1490000000.000000 OnTrade            B 20002 4
Si_0 1490000000.000000 DOUBLE_ASSERT PRICE            S  1 20003
Si_0 1490000000.000000 OnPriceLevelDelete S 1 20003 0
Si_0 1490000000.000000 ASSERT EMPTY_BOOK S 1

Si_0 TESTCASE TestTradeSizeChange 1
Si_0 1490000000.000000 OnPriceLevelNew    B 1 20000 10 2 0
Si_0 1490000000.000000 OnPriceLevelNew    B 1 20001 23 3 0
Si_0 1490000000.000000 OnPriceLevelNew    S 1 20002  13 2 0
# trade such that it changes the size only 
Si_0 1490000000.000000 OnTrade            S 20001 5
Si_0 1490000000.000000 DOUBLE_ASSERT PRICE            B 1 20001
Si_0 1490000000.000000 INT_ASSERT    INT_PRICE        B 1 20001
Si_0 1490000000.000000 INT_ASSERT    SIZE             B 1 18
Si_0 1490000000.000000 INT_ASSERT    ORDER_COUNT      B 1 3
# clear the level now
Si_0 1490000000.000000 OnTrade            S 20001 18 
Si_0 1490000000.000000 DOUBLE_ASSERT PRICE            B 1 20000
Si_0 1490000000.000000 INT_ASSERT    INT_PRICE        B 1 20000
Si_0 1490000000.000000 INT_ASSERT    SIZE             B 1 10
Si_0 1490000000.000000 INT_ASSERT    ORDER_COUNT      B 1 2
Si_0 1490000000.000000 OnPriceLevelNew    B 1 20000 10 2 0
Si_0 1490000000.000000 OnPriceLevelNew    B 2 19999 5 1 0
Si_0 1490000000.000000 OnPriceLevelNew    B 3 19998 40 3 0
Si_0 1490000000.000000 OnPriceLevelNew    B 4 19997 60 5 0
Si_0 1490000000.000000 OnTrade            S 20000 10 
Si_0 1490000000.000000 OnTrade            S 19999 5 
Si_0 1490000000.000000 OnTrade            S 19998 40 
Si_0 1490000000.000000 DOUBLE_ASSERT PRICE            B 1 19997
Si_0 1490000000.000000 INT_ASSERT    INT_PRICE        B 1 19997
Si_0 1490000000.000000 INT_ASSERT    SIZE             B 1 60
Si_0 1490000000.000000 INT_ASSERT    ORDER_COUNT      B 1 5



Si_0 TESTCASE Random 1
Si_0 1490000000.000000 OnPriceLevelNew    B 1 20000 10 2 0
Si_0 1490000000.000000 OnPriceLevelNew    S 1 20001  3 1 0
Si_0 1490000000.000000 OnPriceLevelChange B 1 20000  8 1 0
Si_0 1490000000.000000 OnPriceLevelNew    B 2 19999 10 1 0
Si_0 1490000000.000000 OnTrade            B 20000 8 
Si_0 1490000000.000000 OnPriceLevelDelete B 1 20000 0
Si_0 1490000000.000000 DOUBLE_ASSERT PRICE            B 1 19999
Si_0 1490000000.000000 INT_ASSERT    INT_PRICE        B 1 19999
Si_0 1490000000.000000 INT_ASSERT    SIZE             B 1 10
Si_0 1490000000.000000 INT_ASSERT    ORDER_COUNT      B 1 1
Si_0 1490000000.000000 ASSERT        CROSSED_BEST_BOOK
Si_0 1490000000.000000 ASSERT        CROSSED_BOOK     
Si_0 1490000000.000000 ASSERT        SIZE_ORDER_CHECK B 
Si_0 1490000000.000000 ASSERT        SIZE_ORDER_CHECK S
Si_0 1490000000.000000 ASSERT        EMPTY_BOOK B 0
Si_0 1490000000.000000 ASSERT        EMPTY_BOOK S 0
